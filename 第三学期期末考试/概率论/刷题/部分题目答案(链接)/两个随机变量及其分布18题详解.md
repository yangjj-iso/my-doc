这道题目在概率论中被称为**泊松过程的“过滤”（Thinning）或“稀释”性质**，是理解复杂随机模型的基础。下面为你详细拆解这一高频考点的逻辑与计算。

### 1. 物理背景与直观理解

为了不让公式显得枯燥，我们先看它的物理意义：

- **$X \sim P(\lambda)$**：假设一个商店每小时进店的人数服从均值为 $\lambda$ 的泊松分布。
    
- **$Y|X=n \sim B(n, p)$**：在进店的这 $n$ 个人中，每个人买东西的概率独立地为 $p$。
    
- **$Y$ 的边缘分布**：我们想知道，最终“买东西的总人数”服从什么分布？
    
- **直观结论**：总人数依然符合泊松分布，只是平均每小时买东西的人数变少了，均值变为 $\lambda p$。
    

---

### 2. 数学推导过程

要求 $Y$ 的边缘分布律，核心武器是离散型全概率公式：

$$P(Y=k) = \sum_{n=k}^{\infty} P(Y=k | X=n) P(X=n)$$

（注：求和从 $n=k$ 开始，是因为只有进店人数不少于 $k$ 时，买东西的人数才可能达到 $k$。）

#### 第一步：代入分布律公式

将二项分布和泊松分布的公式代入：

$$P(Y=k) = \sum_{n=k}^{\infty} \left[ \binom{n}{k} p^k (1-p)^{n-k} \right] \cdot \left[ \frac{e^{-\lambda} \lambda^n}{n!} \right]$$

#### 第二步：项的化简与重组

我们将组合数 $\binom{n}{k}$ 展开为 $\frac{n!}{k!(n-k)!}$，可以发现 $n!$ 被约掉了：

$$P(Y=k) = \sum_{n=k}^{\infty} \frac{n!}{k!(n-k)!} p^k (1-p)^{n-k} \frac{e^{-\lambda} \lambda^n}{n!}$$

$$P(Y=k) = \frac{e^{-\lambda} p^k}{k!} \sum_{n=k}^{\infty} \frac{(1-p)^{n-k} \lambda^n}{(n-k)!}$$

#### 第三步：变量替换

为了方便求和，令 $m = n - k$，则当 $n=k$ 时 $m=0$，且 $n = m + k$：

$$P(Y=k) = \frac{e^{-\lambda} p^k}{k!} \sum_{m=0}^{\infty} \frac{(1-p)^m \lambda^{m+k}}{m!}$$

提取与 $m$ 无关的项 $\lambda^k$ 到求和号外：

$$P(Y=k) = \frac{e^{-\lambda} p^k \lambda^k}{k!} \sum_{m=0}^{\infty} \frac{[\lambda(1-p)]^m}{m!}$$

#### 第四步：利用级数求和

根据泰勒展开式 $e^x = \sum_{m=0}^{\infty} \frac{x^m}{m!}$，我们将 $x = \lambda(1-p)$ 代入：

$$P(Y=k) = \frac{e^{-\lambda} (\lambda p)^k}{k!} \cdot e^{\lambda(1-p)}$$

#### 第五步：合并指数项

$$P(Y=k) = \frac{(\lambda p)^k}{k!} \cdot e^{-\lambda + \lambda - \lambda p} = \frac{(\lambda p)^k e^{-\lambda p}}{k!}$$

---

### 3. 最终结论

观察最后得到的表达式，它完全符合参数为 $\lambda p$ 的泊松分布的概率质量函数。

因此：$Y \sim P(\lambda p)$。

### 4. 延伸思考：为什么它是考点？

1. **综合性强**：它考察了条件概率、全概率公式、二项分布和泊松分布的公式记忆，以及数学分析中的级数求和技巧。
    
2. **模型重要性**：在实际应用中，它可以用来计算“通过某个过滤器的事件数”。例如：
    
    - 宇宙射线到达传感器的次数服从泊松分布，而传感器只有 $p$ 的概率捕获到射线，那么记录到的数据依然服从泊松分布。
        
    - 已知总体的缺陷数服从泊松分布，抽样检测中发现缺陷的概率为 $p$，样本中的缺陷数分布依此确定。